{% extends 'base.html' %}
{% load static %}
{%block title%}{{patient.surname}}{%endblock%}

{%block content %}
<div class="mt-7 md:mt-8 p-4">
    <div class="text-center rounded-xl p-4 md:p-10 shadow-black shadow-2xl bg-gray-50">
        <section class="text-center border-cyan-700 p-4 m-2">
            {% for message in messages %}
          <div class="">
               <div class="uk-alert-success rounded-2xl text-sm" uk-alert>
                <a href class="uk-alert-close font-bold" uk-close></a>
                <p class="text-green-700 font-semibold">{{ message }}</p>
                </div>
          </div>
          {% endfor %}
        </section>
        <div>
            <p>{{patient.surname}}</p>
            <p>{{patient.other}}</p>
            <p>{{patient.phone}}</p>
            <p>{{patient.gender}}</p>
            <p>{{patient.dob}}</p>
        </div>
    </div>

    <h2>Hematology Results</h2>
    <table>
        <thead>
            <tr>
                <th>Test</th>
                <th>Result</th>
                <th>Unit</th>
                <th>Date</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <a href="{% url 'hematology_result' patient.surname %}" class="text-xl">Add result</a>
            {% for r in hematology_results %}
            <tr>
                <td>{{ r.test }}</td>
                <td>{{ r.result }}</td>
                <td>{{ r.unit }}</td>
                <td>{{ r.date_reported }}</td>
                <td>
                    <a href="{% url 'hematology_update' r.patient.surname r.id %}">Update</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{%endblock%}